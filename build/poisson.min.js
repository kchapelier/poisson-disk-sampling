!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.Poisson=i():t.Poisson=i()}(window,(function(){return function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){"use strict";var e=n(1),r=n(2),o=n(3),s=function(t,i){for(var n=0,e=0;e<t.length;e++)n+=Math.pow(t[e]-i[e],2);return n},h=function(t,i,n,o,s){n=n||2*i,this.shape=t,this.dimension=this.shape.length,this.minDistance=i,this.squaredMinDistance=i*i,this.deltaDistance=n-i,this.cellSize=i/Math.sqrt(this.dimension),this.maxTries=o||30,this.rng=s||Math.random,this.neighbourhood=function(t){var i,n=r(2,t),e=[];for(i=0;i<t;i++)e.push(0);return n.push(e),n.sort((function(i,n){for(var e=0,r=0,o=0;o<t;o++)e+=Math.pow(i[o],2),r+=Math.pow(n[o],2);return e<r?-1:e>r?1:0})),n}(this.dimension),this.currentPoint=null,this.processList=[],this.samplePoints=[],this.gridShape=[];for(var h=0;h<this.dimension;h++)this.gridShape.push(Math.ceil(t[h]/this.cellSize));this.grid=e(this.gridShape)};h.prototype.shape=null,h.prototype.dimension=null,h.prototype.minDistance=null,h.prototype.squaredMinDistance=null,h.prototype.deltaDistance=null,h.prototype.cellSize=null,h.prototype.maxTries=null,h.prototype.rng=null,h.prototype.neighbourhood=null,h.prototype.currentPoint=null,h.prototype.processList=null,h.prototype.samplePoints=null,h.prototype.gridShape=null,h.prototype.grid=null,h.prototype.addRandomPoint=function(){for(var t=new Array(this.dimension),i=0;i<this.dimension;i++)t[i]=this.rng()*this.shape[i];return this.directAddPoint(t)},h.prototype.addPoint=function(t){var i,n=!0;if(t.length===this.dimension)for(i=0;i<this.dimension&&n;i++)n=t[i]>=0&&t[i]<=this.shape[i];else n=!1;return n?this.directAddPoint(t):null},h.prototype.directAddPoint=function(t){var i,n=0,e=this.grid.stride;for(this.processList.push(t),this.samplePoints.push(t),i=0;i<this.dimension;i++)n+=(t[i]/this.cellSize|0)*e[i];return this.grid.data[n]=this.samplePoints.length,t},h.prototype.inNeighbourhood=function(t){var i,n,e,r,o,h=this.dimension,a=this.grid.stride;for(i=0;i<this.neighbourhood.length;i++){for(n=0,e=0;e<h;e++)(r=(t[e]/this.cellSize|0)+this.neighbourhood[i][e])>=0&&r<this.gridShape[e]&&(n+=r*a[e]);if(0!==this.grid.data[n]&&(o=this.samplePoints[this.grid.data[n]-1],s(t,o)<this.squaredMinDistance))return!0}return!1},h.prototype.next=function(){for(var t,i,n,e,r,s,h;this.processList.length>0;){for(null===this.currentPoint&&(this.currentPoint=this.processList.shift()),e=this.currentPoint,t=0;t<this.maxTries;t++){for(s=!0,n=this.minDistance+this.deltaDistance*this.rng(),2===this.dimension?(i=this.rng()*Math.PI*2,r=[Math.cos(i),Math.sin(i)]):r=o(this.dimension,this.rng),h=0;s&&h<this.dimension;h++)r[h]=e[h]+r[h]*n,s=r[h]>=0&&r[h]<=this.shape[h]-1;if(s&&!this.inNeighbourhood(r))return this.directAddPoint(r)}t===this.maxTries&&(this.currentPoint=null)}return null},h.prototype.fill=function(){for(0===this.samplePoints.length&&this.addRandomPoint();this.next(););return this.samplePoints},h.prototype.getAllPoints=function(){return this.samplePoints},h.prototype.reset=function(){var t=this.grid.data,i=0;for(i=0;i<t.length;i++)t[i]=0;this.samplePoints=[],this.currentPoint=null,this.processList.length=0},t.exports=h},function(t,i,n){"use strict";t.exports=function(t){var i,n=t.length,e=1,r=new Array(n);for(i=n;i>0;i--)r[i-1]=e,e*=t[i-1];return{stride:r,data:new Uint32Array(e)}}},function(t,i){t.exports=function(t,i){i=i||2;for(var n=2*(t=t||1)+1,e=Math.pow(n,i)-1,r=new Array(e),o=0;o<e;o++)for(var s=r[o]=new Array(i),h=o<e/2?o:o+1,a=1;a<=i;a++){var u=h%Math.pow(n,a);s[a-1]=u/Math.pow(n,a-1)-t,h-=u}return r}},function(t,i,n){"use strict";t.exports=function(t,i){var n,e,r,o,s,h=new Array(t),a=Math.floor(t/2)<<1,u=0;for(s=0;s<a;s+=2)n=-2*Math.log(i()),e=Math.sqrt(n),r=2*Math.PI*i(),u+=n,h[s]=e*Math.cos(r),h[s+1]=e*Math.sin(r);if(t%2){var p=Math.sqrt(-2*Math.log(i()))*Math.cos(2*Math.PI*i());h[t-1]=p,u+=Math.pow(p,2)}for(o=1/Math.sqrt(u),s=0;s<t;++s)h[s]*=o;return h}}])}));